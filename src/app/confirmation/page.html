<article class="tile is-child">
  <p class="title rouge-font marsala-color page-title">Confirme sua presença</p>
  <div class="content">
    <p class="subtitle bubbler-font marsala-color text-content">
      Pensamos em cada um dos convidados com muito carinho. São todos tão importantes! =)<br />
      Confirme abaixo a sua presença e venha curtir esse momento conosco.
    </p>
    <div class="columns">
      <div class="column is-8 is-offset-2">
        <div class="box has-text-centered">
          <form (ngSubmit)="save(info)" novalidate>
            <div class="field">
              <label class="bubbler-font marsala-color text-content">Nome<strong class="rouge-font">*</strong></label>
              <p class="control">
                <input
                  class="input has-text-centered"
                  type="text"
                  placeholder="Nome"
                  [(ngModel)]="info.name"
                  name="name"
                  required>
              </p>
            </div>

            <div class="field">
              <label class="bubbler-font marsala-color text-content">Email<strong class="rouge-font">*</strong></label>
              <p class="control">
                <input
                  class="input has-text-centered"
                  type="text"
                  placeholder="exemplo@exemplo.com.br"
                  [(ngModel)]="info.email"
                  name="email"
                  (blur)="onEmailBlur(info.email)"
                  required>
              </p>
              <p class="help is-danger bubbler-font" style="margin-top: 0rem;" *ngIf="usedEmail">
                E-mail já cadastrado
              </p>
              <p class="help is-info bubbler-font" style="margin-top: 0rem;" *ngIf="usedEmail" (click)="useTempData()">
                Atualizar cadastro?
              </p>
            </div>

            <div class="field" style="margin-bottom: 0rem;">
              <label class="bubbler-font marsala-color text-content">Acompanhantes</label>
            </div>

            <div class="field" style="margin-bottom: 0rem;" *ngFor="let guest of info.guests">
              <small class="bubbler-font marsala-color text-content">{{ guest }}</small>
              <span class="icon is-pulled-right" style="color: #742b59;">
                <i class="fa fa-minus-circle" (click)="removeGuest(guest)"></i>
              </span>
            </div>

            <div class="field has-addons">
              <p class="control is-expanded">
                <input
                  class="input has-text-centered"
                  type="text"
                  placeholder="Nome"
                  [(ngModel)]="info.newGuest"
                  name="newGuest"
                  (keyup.enter)="addGuest(info.newGuest)">
              </p>
              <p class="control">
                <a class="button is-info marsala-background">
                  <i class="fa fa-plus-circle" (click)="addGuest(info.newGuest)"></i>
                </a>
              </p>
            </div>
          </form>

          <div class="columns" style="margin-bottom: 0rem;">
            <div class="column is-half is-offset-one-quarter">
              <button
                class="button is-primary marsala-background"
                type="button"
                (click)="save(info)">Salvar</button>
              <button class="button is-link" (click)="clear()">Limpar</button>
            </div>
          </div>

          <p class="help is-success bubbler-font marsala-color" style="margin-top: 0rem;">{{ saveInfo }}</p>
          <p class="help is-danger bubbler-font" style="margin-top: 0rem;">{{ errorMessage }}</p>
        </div>
      </div>
    </div>
  </div>
</article>
